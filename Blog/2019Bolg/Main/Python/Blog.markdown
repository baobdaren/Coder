## Pythonæ•™ç¨‹ç¬”è®°
* æ•°ç»„åˆ‡ç‰‡æ˜¯æµ…å¤åˆ¶
* `while/for -- else` 
  å½“å¾ªç¯è¢«`break`ç»ˆæ­¢æ—¶ä¸ä¼šè°ƒç”¨`else`å—ã€‚
  ä¸¾ä¸ªæ —å­ï¼Œæˆ‘ä»¬æ£€æµ‹é˜Ÿä¼ä¸­ï¼Œæ‰€æœ‰ç©å®¶æ˜¯å¦ç¬¦åˆå‰¯æœ¬çš„ç­‰çº§è¦æ±‚ï¼š
  ```py
  teamLevels = [11,12,30,101,12]
  for item in teamLevels:
      if not 10 < item < 100:
          print("è¿™ä¸ªé˜Ÿä¼ä¸ç¬¦åˆè¿›å…¥æ¡ä»¶")
          break
  else:
      print("è¿™ä¸ªé˜Ÿä¼å¯ä»¥è¿›å…¥å‰¯æœ¬")
  ```
* å¤šé‡èµ‹å€¼ï¼šå…ˆè®¡ç®—å³è¾¹æ‰€æœ‰çš„è¡¨è¾¾å¼ï¼Œå†ä¾æ¬¡èµ‹å€¼
-------------------------------------------------
* `rang()`å‡½æ•°å¹¶ä¸ä¼šåˆ›å»ºä¸€ä¸ªåˆ—è¡¨:
  >[`range()`](https://docs.python.org/zh-cn/3/library/stdtypes.html#range "range") æ‰€è¿”å›çš„å¯¹è±¡åœ¨è®¸å¤šæ–¹        é¢è¡¨ç°å¾—åƒä¸€ä¸ªåˆ—è¡¨ï¼Œä½†å®é™…ä¸Šå´å¹¶ä¸æ˜¯ã€‚æ­¤å¯¹è±¡ä¼šåœ¨ä½ è¿­ä»£å®ƒæ—¶åŸºäºæ‰€å¸Œæœ›çš„åºåˆ—è¿”å›è¿ç»­çš„é¡¹ï¼Œä½†å®ƒæ²¡æœ‰çœŸæ­£ç”Ÿæˆåˆ—è¡¨ï¼Œè¿™æ ·å°±èƒ½èŠ‚çœç©ºé—´ã€‚
* `enumator()` æ–¹æ³•åœ¨éå†å¯è¿­ä»£å¯¹è±¡æ—¶ï¼Œè¿”å›åºå·
  ```py
  l = ["hello","world","!"]
  for item in l:
      print(item)
  for index, item in enumerate(l):
      print(index, item)
  ```
* `for` å¾ªç¯ä¸ä¼šåœ¨ç»“æŸæ—¶å›æ”¶`item`å†…å­˜
  ```py
  def fun():
      l = [1,2,3]
      for k in l:
          pass
      print(k) # 3
  fun()
  ```
* å…³äºglobalå’Œnonlocal
  * `global` æŒ‡æ˜è¯¥å˜é‡åç§°è¯¥å»å…¨å±€åŒºæŸ¥æ‰¾ã€‚
  * `nonlocal` çŸ¥åè¯¥å˜é‡åå±äºä¸Šå±‚è°ƒç”¨å—ï¼Œå¹¶ä¸”è¯¥å—ä¸æ˜¯å…¨å±€çš„ã€‚
  * `python` å˜é‡æŸ¥æ‰¾é¡ºåºï¼šå±€éƒ¨è¡¨->ä¸Šå±‚è¡¨->å†…ç½®è¡¨
    `global`æ˜¯å¯¹è§£æå™¨çš„æŒ‡ä»¤ï¼Œåªå¯¹åŒä¸€æ—¶åˆ»è¢«è§£æçš„ä»£ç æœ‰æ•ˆï¼Œè¿™æ„å‘³ç€`exec`ä¸­çš„`global`å¹¶ä¸ä¼šå¯¹è°ƒç”¨è¯¥å—çš„ä»£ç äº§ç”Ÿå½±å“ã€‚

  æ³¨æ„ï¼šå¯¹äºä¸€ä¸ªèµ‹å€¼è¯­å¥æ¥è¯´ï¼Œå¦‚æœå±€éƒ¨è¡¨ä¸­æ²¡æœ‰è¿™ä¸ªåç§°ï¼Œåˆ™ä¼šåˆ›å»ºæ–°çš„å±€éƒ¨å˜é‡ï¼Œè€Œä¸å»æŸ¥æ‰¾ã€‚
  
  æ³¨æ„ï¼š`nonlocal`å’Œ`global`æ“ä½œçš„å˜é‡ä¸èƒ½åœ¨æ­¤ä¹‹å‰ä½¿ç”¨è¿‡ã€‚

* å‡½æ•°çš„ç¼ºçœå€¼èµ‹å€¼åªä¼šæ‰§è¡Œä¸€æ¬¡ â€”â€” å®˜æ–¹æ–‡æ¡£
        ```py
        def Func(i, arg = []):
            arg.append(i)
            return arg

        Func(1)
        Func(2)
        Func(3)
        print(Func(4))

        # [1, 2, 3, 4]
        ```
    æ³¨æ„ï¼šè¿™é‡Œçš„èµ‹å€¼ä¸€æ¬¡åªé’ˆå¯¹å¯å˜å¯¹è±¡ï¼Œå¦‚åˆ—è¡¨ï¼Œå­—å…¸ï¼Œä»¥åŠå¤§å¤šæ•°ç±»å®ä¾‹
        ```py
        def Func(i, arg = 0):
        arg = arg + i
        return arg

        Func(1)
        Func(2)
        Func(3)

        print(Func(4))
        # 4
        ```
* å…ƒç»„çš„è§£åŒ…å’Œæ‰“åŒ…ï¼Œå‚æ•°çš„è§£åŒ…å’Œæ‰“åŒ…ä¹ŸåŒç†
    ```py
    t = 1,2,3,4
    a,b,c,d = t

    print(t) # (1, 2, 3, 4)
    print(a,b,c,d) # 1 2 3 4
    ```
* `zip`å‡½æ•°ï¼ŒåŒæ—¶éå†ä¸¤ä¸ªåºåˆ—
    ```py
    # ä½¿ç”¨zipå‡½æ•°åŒæ—¶éå†
    A = ["A1", "A2", "A3", "A4"]
    B = ["B1", "B2", "B3", "B4"]
    for i1, i2 in zip(A, B):
        print(i1, i2)

    # A1 B1
    # A2 B2
    # A3 B3
    # A4 B4
    ```
* ä½¿ç”¨ `_` å¼€å¤´çš„æ–‡ä»¶ä¸­çš„å¯¹è±¡ï¼Œä¸ä¼šè¢«å¯¼å…¥åˆ°å…¶ä»–æ¨¡å—ï¼Œç›¸å½“äºè¯¥æ–‡ä»¶æ¨¡å—ç§æœ‰
`from me import * `
# æ¨¡å—
* >ä¸ºäº†åŠ é€Ÿæ¨¡å—è½½å…¥ï¼ŒPythonåœ¨ `__pycache__` ç›®å½•é‡Œç¼“å­˜äº†æ¯ä¸ªæ¨¡å—çš„ç¼–è¯‘åç‰ˆæœ¬
* >å¿…é¡»è¦æœ‰`__init__.py` æ–‡ä»¶æ‰èƒ½è®© Python å°†åŒ…å«è¯¥æ–‡ä»¶çš„ç›®å½•å½“ä½œåŒ…ã€‚
* ä¸€ä¸ªæ¨¡å—è¢«` from me import * `å¯¼å…¥æ—¶ï¼Œå¦‚æœæœ‰`__all__`ï¼Œæ€ä¹ˆå¯¼å…¥å…¶ä¿å­˜çš„æ–¹æ³•æˆ–è€…å¯¹è±¡ç­‰ï¼Œè€Œä¸æ˜¯å¯¼å…¥æ‰€æœ‰ã€‚
    ```py
    # model
    def Can():
        print("æˆ‘å¯ä»¥è¢«å¯¼å…¥")
    def Cant():
        print("æˆ‘ä¸å¯ä»¥è¢«å¯¼å…¥")

    __all__ = ["Can", "Cant"]`
    ```
    ```py
    from model import *
    Can()
    Cant()
    ```
    >ä¾‹å¦‚ï¼Œæ–‡ä»¶ sound/effects/`__init__.py` å¯ä»¥åŒ…å«ä»¥ä¸‹ä»£ç :
    `__all__` = ["echo", "surround", "reverse"]
    è¿™æ„å‘³ç€ from sound.effects import * å°†å¯¼å…¥ sound åŒ…çš„ä¸‰ä¸ªå‘½åå­æ¨¡å—ã€‚
    å¦‚æœæ²¡æœ‰å®šä¹‰ `__all__`ï¼Œ`from sound.effects import *` è¯­å¥ ä¸ ä¼šä»åŒ… sound.effects ä¸­å¯¼å…¥æ‰€æœ‰å­æ¨¡å—åˆ°å½“å‰å‘½åç©ºé—´ï¼›å®ƒåªç¡®ä¿å¯¼å…¥äº†åŒ… sound.effects ï¼ˆå¯èƒ½è¿è¡Œä»»ä½•åœ¨ `__init__.py` ä¸­çš„åˆå§‹åŒ–ä»£ç ï¼‰ï¼Œç„¶åå¯¼å…¥åŒ…ä¸­å®šä¹‰çš„ä»»ä½•åç§°ã€‚è¿™åŒ…æ‹¬ `__init__.py` å®šä¹‰çš„ä»»ä½•åç§°ï¼ˆä»¥åŠæ˜¾å¼åŠ è½½çš„å­æ¨¡å—ï¼‰ã€‚å®ƒè¿˜åŒ…æ‹¬ç”±ä¹‹å‰çš„ import è¯­å¥æ˜¾å¼åŠ è½½çš„åŒ…çš„ä»»ä½•å­æ¨¡å—
# 7 è¾“å…¥è¾“å‡º
* åœ¨å­—ç¬¦ä¸²ä¹‹å‰åŠ å­—æ¯ `f` å¯ä»¥ç›´æ¥æ’å…¥å˜é‡
    ```py
    year = 2019
    mon = 10
    data = f"{year}å¹´{mon}æœˆ"
    print(data)
    # 2019å¹´10æœˆ
    ```
* `f` å­—ç¬¦ä¸²ä¸­çš„æ ¼å¼æ§åˆ¶ 
    >bodx : äºŒè¿›åˆ¶ å…«è¿›åˆ¶ åè¿›åˆ¶ åå…­è¿›  
    >c : ASCALL è¾“å‡º   
    >e : ç§‘å­¦è®¡æ•°æ³•  
    >% : é™¤ä»¥100,ç™¾åˆ†æ¯”è¾“å‡º  
    >æœ€å,ä½¿ç”¨`<` è¡¨ç¤ºå·¦å¯¹é½
    ```py
    s1 = "è¿™ä¸ªæ•°"
    print(f"{s1!r} ç­‰äº {256:15b}")
    print(f"{s1!r} ç­‰äº {256:15o}")
    print(f"{s1!r} ç­‰äº {256:15X}")

    print(f"{s1!r} ç­‰äº {256:15d}")
    print(f"{s1!r} ç­‰äº {256:15e}")
    print(f"{s1!r} ç­‰äº {0.25:15%}")
    print(f"{s1!r} ç­‰äº {97:15c}")

    print(f"{s1!r} ç­‰äº {0.25:<15%}")
    # 'è¿™ä¸ªæ•°' ç­‰äº       100000000
    # 'è¿™ä¸ªæ•°' ç­‰äº             400
    # 'è¿™ä¸ªæ•°' ç­‰äº             100
    # 'è¿™ä¸ªæ•°' ç­‰äº             256
    # 'è¿™ä¸ªæ•°' ç­‰äº    2.560000e+02
    # 'è¿™ä¸ªæ•°' ç­‰äº      25.000000%
    # 'è¿™ä¸ªæ•°' ç­‰äº               a
    # 'è¿™ä¸ªæ•°' ç­‰äº 25.000000%     
    ```
* æ³¨æ„ï¼Œä½¿ç”¨få­—ç¬¦ä¸²æ˜¯ï¼Œå¦‚æœæƒ³ç›´æ¥æ’å…¥å­—ç¬¦ä¸²:  
`s = f"{'hello'}{'world'}"`  
åŠ¡å¿…ä½¿ç”¨å•åŒäº¤æ›¿çš„å¼•å·ã€‚ğŸ˜…ï¼Œå¦åˆ™å‘ç”Ÿè¯­æ³•é”™è¯¯ã€‚

* ä½¿ç”¨withè®¿é—®æ–‡ä»¶:ç¦»å¼€withå—ä¹‹åï¼Œæ–‡ä»¶ä¼šè¢«ä¸»åŠ¨å…³é—­ï¼Œå°¤å…¶æ˜¯è®¿é—®æ–‡ä»¶å¼‚å¸¸æ—¶æœ‰ç”¨.è™½ç„¶pythonä¼šå…³é—­æ²¡æœ‰å¼•ç”¨æ–‡ä»¶æè¿°ç¬¦çš„æ‰“å¼€ä¸­çš„æ–‡ä»¶ï¼Œä½†ä¾ç„¶ä¸æ˜¯ç«‹å³å…³é—­çš„.
    ```py
    save = None
    fPath = r"PythonTutorial\è¾“å…¥è¾“å‡º\test.txt"

    def Func():
        global save
        save = None
        # ä¸ä½¿ç”¨with
        fd = open(fPath)
        save = fd
        print(fd.name)
        1/0
        fd.close()

    def Func_safe():
        global save
        save = None
        # ä½¿ç”¨with
        with open(fPath) as fd:
            save = fd
            print(fd.name)
            1/0

    def Test(f):
        try:
            f()
        except Exception as er:
            print(er.args[0])

    Test(Func)
    print(save.closed)

    Test(Func_safe)
    print(save.closed)

    # PythonTutorial\è¾“å…¥è¾“å‡º\test.txt
    # division by zero
    # False
    # PythonTutorial\è¾“å…¥è¾“å‡º\test.txt
    # division by zero
    # True
    ```
# 8 å¼‚å¸¸
* è‡ªå®šä¹‰å¼‚å¸¸é€šå¸¸é—´æ¥æˆ–ç›´æ¥ç»§æ‰¿è‡ªExceptï¼Œå¤šæ•°æƒ…å†µä¸‹æä¾›ä¸€äº›å±æ€§ã€‚ä½†æ˜¯ä¹Ÿå¯ä»¥æ‰§è¡Œä¸€èˆ¬çš„å‡½æ•°ã€‚
* æ³¨æ„ï¼ŒæŠ›å‡ºä¸€ä¸ªå¼‚å¸¸ï¼Œå¯ä»¥è¢«catchè¯­å¥ä¸­ä¸ºå¼‚å¸¸å­ç±»çš„è¯­å¥æ•è·:
    ```py
    class MyExcept(Exception):
        pass
    class MyExceptChild(MyExcept):
        pass

    try:
        raise MyExceptChild
    except MyExcept as idf:
        print("å¼‚å¸¸çˆ¶ç±»") # å¼‚å¸¸çˆ¶ç±»
    except MyExceptChild as idf:
        print("å¼‚å¸¸å­ç±»")
    ```
    ä¸Šä¾‹ä¸­ï¼ŒæŠ›å‡ºçš„`MyExceptChild`çš„å¼‚å¸¸ï¼Œè¢«å…¶çˆ¶ç±»çš„æ¡ä»¶æ•è·äº†ã€‚
* raiseï¼Œä¸‹ä¾‹ä¸­ï¼ŒraiseæŠ›å‡ºå½“å‰å¼‚å¸¸
    ```py
    def Test():
        try:
            1/0
        except Exception as identifier:
            print("åªæ˜¯çœ‹çœ‹æœ‰å¼‚å¸¸æ²¡")
            raise

    try:
        Test()
    except Exception as identifier:
        print(f"æˆ‘æ‰æ˜¯å¤„ç†:{identifier}")
    # åªæ˜¯çœ‹çœ‹æœ‰å¼‚å¸¸æ²¡
    # æˆ‘æ‰æ˜¯å¤„ç†:division by zero
    ```
# 9 ç±»
* ç±»çš„æ–¹æ³•å±æ€§(æ¥è‡ªæ–‡æ¡£)
    >å¦‚æœä½ ä»ç„¶æ— æ³•ç†è§£æ–¹æ³•çš„è¿ä½œåŸç†ï¼Œé‚£ä¹ˆæŸ¥çœ‹å®ç°ç»†èŠ‚å¯èƒ½ä¼šæ¾„æ¸…é—®é¢˜ã€‚ å½“ä¸€ä¸ªå®ä¾‹çš„éæ•°æ®å±æ€§è¢«å¼•ç”¨æ—¶ï¼Œå°†æœç´¢å®ä¾‹æ‰€å±çš„ç±»ã€‚ å¦‚æœåç§°è¡¨ç¤ºä¸€ä¸ªå±äºå‡½æ•°å¯¹è±¡çš„æœ‰æ•ˆç±»å±æ€§ï¼Œä¼šé€šè¿‡åˆå¹¶æ‰“åŒ…ï¼ˆæŒ‡å‘ï¼‰å®ä¾‹å¯¹è±¡å’Œå‡½æ•°å¯¹è±¡åˆ°ä¸€ä¸ªæŠ½è±¡å¯¹è±¡ä¸­çš„æ–¹å¼æ¥åˆ›å»ºä¸€ä¸ªæ–¹æ³•å¯¹è±¡ï¼šè¿™ä¸ªæŠ½è±¡å¯¹è±¡å°±æ˜¯æ–¹æ³•å¯¹è±¡ã€‚ å½“é™„å¸¦å‚æ•°åˆ—è¡¨è°ƒç”¨æ–¹æ³•å¯¹è±¡æ—¶ï¼Œå°†åŸºäºå®ä¾‹å¯¹è±¡å’Œå‚æ•°åˆ—è¡¨æ„å»ºä¸€ä¸ªæ–°çš„å‚æ•°åˆ—è¡¨ï¼Œå¹¶ä½¿ç”¨è¿™ä¸ªæ–°å‚æ•°åˆ—è¡¨è°ƒç”¨ç›¸åº”çš„å‡½æ•°å¯¹è±¡ã€‚
* ä¸è¦éšæ„ç»™å®ä¾‹å±æ€§èµ‹å€¼ï¼Œä¸‹ä¾‹ä¸­åœ¨ç±»çš„å¤–éƒ¨å¢åŠ äº†ä¸€ä¸ªå±æ€§ã€‚
    ```py
    # åœ¨ä¸æ˜¯ç±»å®ä¾‹çš„æ–¹æ³•ä¸­èƒ½å¦æ·»åŠ æ–°çš„å±æ€§ç»™å®ä¾‹
    class Dog():
        def __init__(self):
            pass

    wv = Dog()
    wv.r = 1
    print(wv.r) # 1
    print(hasattr(wv, "r")) # True
    ```
* å¤šé‡ç»§æ‰¿ä¸­å±æ€§çš„æœç´¢ï¼š
    å¤šé‡ç»§æ‰¿çš„æ´¾ç”Ÿç±»ï¼Œæœç´¢å±æ€§æ—¶å¯ä»¥è®¤ä¸ºæ˜¯:ä»å·¦åˆ°å³ï¼Œæ·±åº¦ä¼˜å…ˆçš„éå†ã€‚

* æ„å»ºç±»çš„è¿­ä»£å™¨ï¼š
    >å®šä¹‰ä¸€ä¸ª `__iter__()` æ–¹æ³•æ¥è¿”å›ä¸€ä¸ªå¸¦æœ‰ `__next__()` æ–¹æ³•çš„å¯¹è±¡ã€‚ å¦‚æœç±»å·²å®šä¹‰äº† `__next__()`ï¼Œåˆ™ `__iter__()` å¯ä»¥ç®€å•åœ°è¿”å› `self`ã€‚   
    ä¸‹é¢çš„ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬è¿”å›äº†ä¸€ä¸ªå¸¦æœ‰`__next__()`æ–¹æ³•çš„å¯¹è±¡ï¼Œè€Œä¸æ˜¯å¯¹è±¡è‡ªå·±ï¼š
    ```py
    class Zoo():
        def __init__(self):
            self.Animals = {}

        def AddNew(self, newAnimalCont):
            for k,v in newAnimalCont.items():
                if not self.Animals.__contains__(k):
                    self.Animals[k] = 0
                self.Animals[k] += v

        def __iter__(self):
            class useFor:
                def __init__(self, info):
                    self.info = []
                    for  k,v in info.items():
                        self.info.append([k, v])
                    self.start = -1

                def __next__(self):
                    self.start += 1
                    if self.start >= len(self.info):
                        print("== å¾ªç¯ç»“æŸäº†")
                        raise StopIteration
                    r = self.info[self.start]
                    print(f"== ç¬¬ {self.start} æ¬¡è¿”å› {r}")
                    return r
            return useFor(self.Animals)

    j = {"è€è™":12, "çŒ´å­":67, "ç†ŠçŒ«":2, "å¤§è±¡":8}
    z = Zoo()
    z.AddNew(j)
    z.AddNew({"ç†ŠçŒ«":10})

    print(j)
    for k in z:
        print(k)
    
    # {'è€è™': 12, 'çŒ´å­': 67, 'ç†ŠçŒ«': 2, 'å¤§è±¡': 8}
    # == ç¬¬ 0 æ¬¡è¿”å› ['è€è™', 12]
    # ['è€è™', 12]
    # == ç¬¬ 1 æ¬¡è¿”å› ['çŒ´å­', 67]
    # ['çŒ´å­', 67]
    # == ç¬¬ 2 æ¬¡è¿”å› ['ç†ŠçŒ«', 12]
    # ['ç†ŠçŒ«', 12]
    # == ç¬¬ 3 æ¬¡è¿”å› ['å¤§è±¡', 8]
    # ['å¤§è±¡', 8]
    # == å¾ªç¯ç»“æŸäº†
    ```
* yield:
    ```py
    # ä½¿ç”¨yield
    # ä½¿ç”¨sendå’Œnext
    def ITR():
        a = 1
        b = 10
        while(a < b):
            c = yield a
            print(f"æ¥æ”¶å‚æ•° {c}")
            a += 1

    Test = ITR()

    try:
        print(f"{1} : {next(Test)} {'ç¬¬ä¸€æ¬¡è°ƒç”¨'}")
        print(f"{2} : {next(Test)} {'ç¬¬äºŒæ¬¡è°ƒç”¨'}")
        print(Test.send(5))
        print(f"{3} : {next(Test)} {'ç¬¬ä¸‰æ¬¡è°ƒç”¨'}")
        Test.close()
        print(f"{4} : {next(Test)} {'ç¬¬å››æ¬¡å°è¯•å†è°ƒç”¨'}")
    except StopIteration:
        print("stop è¯´æ˜stopä¹‹åï¼Œå‡½æ•°ç»ˆæ­¢äº†")
    except Exception:
        print("unknown")

    # 1 : 1 ç¬¬ä¸€æ¬¡è°ƒç”¨
    # æ¥æ”¶å‚æ•° None
    # 2 : 2 ç¬¬äºŒæ¬¡è°ƒç”¨
    # æ¥æ”¶å‚æ•° 5
    # 3
    # æ¥æ”¶å‚æ•° None
    # 3 : 4 ç¬¬ä¸‰æ¬¡è°ƒç”¨
    # stop è¯´æ˜stopä¹‹åï¼Œå‡½æ•°ç»ˆæ­¢äº†
    ```
    * send() æ–¹æ³•ï¼Œæä¾›å‚æ•°ç»™ä¸Šæ¬¡ç»ˆæ­¢çš„åœ°æ–¹ï¼Œç»§ç»­æ‰§è¡Œï¼Œè¿”å›ä¸‹ä¸€ä¸ªç»“æœ
    * next() æ–¹æ³•ï¼Œç›¸å½“äºæä¾›å‚æ•°ä¸ºNone
* ç”Ÿæˆå™¨è¡¨è¾¾å¼
    ```py
    sum(i*i for i in range(10)) # 285
    ```