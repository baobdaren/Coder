# 工厂模式
* 工厂模式有简单工厂，方法工厂和抽象工厂。
## 简单工厂
* 需要使用一个对象时，不需要自己去new创建。而是交给一个工厂去负责创建。创建和调用解耦。
* 把new创建对象代码放到factory里，factory提供create方法，create方法根据不同参数，调用不同的创建代码。
```
public class MainApp
{
	public static void Main()
	{
		IWeapons weapon = SimpleFactory.CreateWeapon("cn95");      // 无需自己new
	}
}

public interface IWeapons
{
	public string Name { get;}
	public int Damage {  get;}
	public int Bullets {  get;}
	public int Shoot(int useBulletAmount);
}

public class AK : IWeapons
{
	public string Name => "ak";
	public int Damage => 10;
	public int Bullets => 35;

	public int Shoot(int useBulletAmount)
	{
		return Damage * (int)MathF.Min(Bullets, useBulletAmount);
	}
}

public class CN95 : IWeapons
{
	public string Name => "CN 95";
	public int Damage => 8;
	public int Bullets => 45;

	public int Shoot(int useBulletAmount)
	{
		return Damage * (int)MathF.Min(Bullets, useBulletAmount);
	}
}

public class SimpleFactory
{
	public static IWeapons CreateWeapon(string name)
	{
		switch (name.ToLower())
		{
			case "ak":
				{
					return new AK();                  // 创建代码放在Factory
				}
			case "cn95":
				{
					return new CN95();
				}
			default:
				{
					return new AK();
				}
		}
	}
}
```
# 工厂方法
* 对于简单工厂，需要工厂新增新的产品时，需要修改工厂，违背对修改关闭的原则。
* 工厂方法模式，则是将具体的创建过程，放置在产品对应的工厂类中，所有工厂则继承创建的接口。
```

```
