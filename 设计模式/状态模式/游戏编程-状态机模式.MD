# 状态机设计模式

这篇文章参考《Game Programming Patterns》

## 主要

忽略

## 次要

忽略

## 总结

* 所有状态实例继承状态接口，接口主要包含

  1. 状态的每一帧更新-StateUpdate
  2. 状态输入-HandlerInput
  3. 状态的进入和推出-OnExit/OnEnter

* 对于混合状态，如下蹲时还可以开枪或拆炸弹

  1. 使用继承-行走状/下蹲状态继承开枪  
  2. 栈，栈顶状态没有这个行为时，调用下一个状态。如果都没有则忽略。  

* 对于需要状态回溯

  有时，一个角色在任何状态下都可以开枪，开枪完毕后我们需要恢复到之前状态？

* 如果状态机有限，可以参考行为树和规划系统。
