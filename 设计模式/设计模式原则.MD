# 设计模式的几大原则

## 1. 单一职责（类）

> GOF:就一个类而言，应当只有一个引起它变化的原因。  
> 如果你能想到多于一个动机区改变一个类，那么这个类就具有多于一个的职责。  

## 2. 接口隔离（类-接口-类）

> 客户端不应该依赖它不需要的接口，即两个类之间的依赖建立在最小接口上。

## 3. 依赖倒置（抽象类/接口-类）

> 高层依赖底层，二者都依赖抽象。  
> 细节依赖抽象，抽象不依赖细节。  
> 依赖倒置是面向对象设计的标志，针对抽象编程而不是针对细节，即程序中所有的依赖关系终止于抽象类或接口那就是面向对象设计，否则就是面向过程。  

核心思想是面向接口编程。  
依赖关系可以通过：接口，构造函数和方法 进行传递。  

## 4. 里氏替换原则（类-子类）

> 子类应当可以替换掉他们的父类类型  

使用聚合，组合或依赖来代替继承，防止继承带来的侵入性。继承时尽量不重写基类方法。  
对于一段代码，如果使用呢一个父类，那么把这个父类替换成子类则对原来的代码没有影响。  
即：子类型必须能够替换掉它们的父类型。  

## 5. 开闭原则（类-业务）

> GOF：软件实体（类，模块，函数）应该不允许修改，但允许扩展。  
> 构造抽象来隔离那些无法封闭的变化。  
> 面对需求，对程序的改动是通过增加新的代码进行的，而不是改变现有代码。  
> 开闭原则是面向对象设计的核心，遵循这个原则使得代码可维护，可扩展，可复用，灵活dd嗯。开发者应该对程序中呈现出频繁变化的哪部分做出抽象，然而刻意对每个部分抽象也不是好主意。拒绝不成熟的抽象和抽象本身同样重要。  

一个功能，对提供方的扩展开放，对使用方的修改关闭。即新增功能时，只需修改提供的功能的代码，而不用修改调用该功能的代码。  

比如，对于一个GraphicEditor，其会绘制所用图形类Circle，Capsule等，不应该在新增图形后还需要修改GraphicEditor。GraphicEditor修改是关闭的。而对于新增的图形，则必然需要重新扩展图形基类。  

面对需求，对程序的改动是通过新增代码实现的，而不是修改现有代码。-- 大话设计模式  

## 6. 迪米特法则-最少知道原则（类-类）

> 如果两个类之间不需要直接通信，那么这两个类就不应该发生相互作用。如果一个类需要调用另一个类的方法的话，可以转发第三者。  
> 在类的设计上，成员应该尽量降低访问权限。  
> 强调类之间松耦合。  
> 类之间耦合越弱，越有利于复用。  

陌生类不要以局部变量出现在类中，除非该类是朋友类（即出现在返回值，方法参数，成员变量）。核心即是降低类之间的耦合。  

## 7.合成复用原则（一般不说）

即使用聚合/组合，而不是继承。
